{% extends "base.html" %}
{% block title %}Pay Ledger{% endblock %}
{% block page_title %}Record Payment for {{ customer.name }}{% endblock %}

{% block content %}
<!-- Add Ledger Modal -->
<input type="checkbox" id="modal-add-ledger" class="modal-toggle" />
<label for="modal-add-ledger" class="modal cursor-pointer">
  <label class="modal-box relative max-w-lg" for="">
    <h3 class="text-lg font-bold mb-3">Add Ledger (Debit)</h3>

    <form id="form-add-ledger" method="post" action="{% url 'customers:add_ledger' customer.id %}" class="space-y-3">
      {% csrf_token %}
      <!-- date -->
      <div>
        <label class="block mb-1 font-medium">Date</label>
        <input type="date" name="date" class="input input-md input-bordered w-full" required>
        <p class="text-sm text-red-400 hidden" id="err-add-date"></p>
      </div>

      <!-- debit amount -->
      <div>
        <label class="block mb-1 font-medium">Debit Amount</label>
        <input type="number" step="0.01" min="0" name="debit_amount" class="input input-md input-bordered w-full" required>
        <p class="text-sm text-red-400 hidden" id="err-add-debit_amount"></p>
      </div>

      <!-- details -->
      <div>
        <label class="block mb-1 font-medium">Details</label>
        <textarea name="detail" class="textarea textarea-bordered w-full h-24"></textarea>
        <p class="text-sm text-red-400 hidden" id="err-add-detail"></p>
      </div>

      <div class="flex justify-end gap-2 pt-2">
        <label for="modal-add-ledger" class="btn btn-ghost">Cancel</label>
        <button type="submit" class="btn btn-success" id="btn-add-ledger">Add</button>
      </div>
    </form>
  </label>
</label>

{% endblock%}