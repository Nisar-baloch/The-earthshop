{% extends "base.html" %}
{% block title %}Invoice {{ invoice }}{% endblock %}
{% block content %}
<div class="bg-white p-6 rounded shadow">
  <div class="flex justify-between items-center">
    <h2 class="text-xl font-bold">Invoice {{ invoice }}</h2>
    <div>
      <button onclick="window.print()" class="btn btn-sm btn-outline">Print</button>
    </div>
  </div>

  <div class="grid grid-cols-2 gap-6 mt-4">
    <div>
      <p><strong>Billed To:</strong>   {% if inv.customer %}
    {{ inv.customer.name }}
  {% else %}
    -
  {% endif %}
...</p>
      <p><strong>Date:</strong> {{ invoice.date|date:"Y-m-d" }}</p>
    </div>
    <div class="text-right">
      <p><strong>Payment:</strong> {{ invoice.payment_type }}</p>
      {% if invoice.bank_details %}<p><strong>Bank:</strong> {{ invoice.bank_details.name }}</p>{% endif %}
    </div>
  </div>

  <div class="mt-4">
    <table class="table w-full">
      <thead><tr><th>#</th><th>Item</th><th>Qty</th><th>Price</th><th>Total</th></tr></thead>
      <tbody>
        {% for it in items %}
        <tr>
          <td>{{ forloop.counter }}</td>
          <td>{{ it.item.name }}</td>
          <td>{{ it.quantity }}</td>
          <td>{{ it.price }}</td>
          <td>{{ it.total }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

  <div class="mt-4 text-right">
    <p>Sub Total: {{ invoice.sub_total }}</p>
    <p>Discount: {{ invoice.discount }}</p>
    <p>Shipping: {{ invoice.shipping }}</p>
    <p class="text-lg font-bold">Grand Total: {{ invoice.grand_total }}</p>
    <p>Paid: {{ invoice.paid_amount }}</p>
    <p>Remaining: {{ invoice.remaining_payment }}</p>
  </div>
</div>
{% endblock %}
